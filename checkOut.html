<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout</title>
    <link rel="stylesheet" href="./assets/css/main.css" />
  </head>
  <body>
    <div class="navbar">
      <ul class="nav-links">
        <li class="logo"><a href="./index.html">SHOPLANE </a></li>
        <li><a href="#clothing">CLOTHING</a></li>
        <li><a href="#accessories">ACCESSORIES</a></li>
      </ul>
      <div class="search-cart">
        <input
          type="text"
          placeholder="Search for Clothing and Accessories"
          class="search-bar"
        />
      </div>
      <div class="navbar">
        <ul class="nav-links">
          <li class="log"><a class="l" href="./login.html">Login</a></li>
          <li class="log"><a class="l" href="./index.html">Logout</a></li>
        </ul>
      </div>
      <div class="cart-icon">
        <a href="./checkOut.html"><span class="cart-count">3</span></a>
      </div>
    </div>
    <!-- Checkout -->
    <div class="checkout-container">
      <h1>Checkout</h1>
      <p>Total Items: <strong>3</strong></p>

      <div class="items-container">
        <div class="item-card">
          <img src="./assets/img/3.jpg" alt="Smart Watch" />
          <div class="item-details">
            <h2>Unisex Silver-Toned Series 3 Smart Watch</h2>
            <p>Amount: 900$</p>
            <button class="remove-btn">Remove</button>
          </div>
        </div>

        <div class="item-card">
          <img
            src="./assets/img/b1373b00-37d4-41a0-a908-5d742a68d3661537343756229-1.jpg"
            alt="Shoes"
          />
          <div class="item-details">
            <h2>Men Black Action Parkview Lifestyle Shoes</h2>
            <p>Amount: 900$</p>
            <button class="remove-btn">Remove</button>
          </div>
        </div>

        <div class="item-card">
          <img
            src="./assets/img/08a7b230-ee8f-46c0-a945-4e835a3c01c01541402833619-United-Colors-of-Benetton-Men-Sweatshirts-1271541402833444-1.jpg"
            alt="T-Shirt"
          />
          <div class="item-details">
            <h2>Men's Cotton T-Shirt</h2>
            <p>Amount: 900$</p>
            <button class="remove-btn">Remove</button>
          </div>
        </div>
      </div>

      <div class="total-section">
        <h2>Total Amount</h2>
        <p>Amount: 2700$</p>
        <button>Place Order</button>
      </div>
    </div>

    <footer>
      <section>
        <div id="containerFooter">
          <div id="webFooter">
            <h3>online store</h3>
            <p>men clothing</p>
            <p>women clothing</p>
            <p>men accessories</p>
            <p>women accessories</p>
          </div>
          <div id="webFooter">
            <h3>helpful link</h3>
            <p>home</p>
            <p>about</p>
            <p>contact</p>
          </div>
          <div id="webFooter">
            <h3>partners</h3>
            <p>zara</p>
            <p>pantaloons</p>
            <p>levis</p>
            <p>ucb</p>
            <p>+ many more</p>
          </div>
          <div id="webFooter">
            <h3>address</h3>
            <p>building 101</p>
            <p>central avenue</p>
            <p>la - 902722</p>
            <p>united states</p>
          </div>
        </div>
        <div id="credit">
          <a href="https://linkedin.com/in/priyanka-sharma-b79401142">
            Â© Priyanka Sharma
          </a>
          &nbsp&nbsp&nbsp | &nbsp&nbsp&nbsp
          <a href="https://www.edyoda.com/" target="_blank"> EDYODA </a>
        </div>
      </section>
    </footer>

    <script>
      // Add Item here

      let cartItems = JSON.parse(localStorage.getItem("cartItems")) || [];
      const cartCount = document.querySelector(".cart-count");
      const itemsContainer = document.querySelector(".items-container");
      const totalAmount = document.querySelector(".total-section p");

      cartCount.textContent = cartItems.length;

      function renderCartItems() {
        itemsContainer.innerHTML = "";
        let total = 0;

        cartItems.forEach((item, index) => {
          total += parseFloat(item.price.replace("$", ""));

          const itemCard = document.createElement("div");
          itemCard.classList.add("item-card");

          itemCard.innerHTML = `
      <img src="${item.image}" alt="${item.name}" />
      <div class="item-details">
        <h2>${item.name}</h2>
        <p>Amount: ${item.price}</p>
        <button class="remove-btn" data-index="${index}">Remove</button>
      </div>
    `;
          itemsContainer.appendChild(itemCard);
        });

        totalAmount.textContent = `Amount: $${total}`;
      }

      function removeFromCart(index) {
        cartItems.splice(index, 1);
        localStorage.setItem("cartItems", JSON.stringify(cartItems));
        cartCount.textContent = cartItems.length;
        renderCartItems();
      }

      itemsContainer.addEventListener("click", (e) => {
        if (e.target.classList.contains("remove-btn")) {
          const index = e.target.dataset.index;
          removeFromCart(index);
        }
      });

      renderCartItems();
    </script>
  </body>
</html>
